@using Bridge.Domain.Places.Entities
<div class="page">
    <MudContainer>
        <MudPaper Class="pa-4">
            <MudForm @ref="_form"
                     @bind-IsValid="_isFormValid"
                     Model="_place"
                     ValidationDelay="0">
                <MudGrid Spacing="1">
                    <MudItem xs="12">
                        <AdvSelect @bind-Value="_place.Type"
                                   T="PlaceType"
                                   Validation="@(_validator.PropertyValidation(x=> x.Type))"
                                   Label="장소유형"
                                   AutoFocus="true">
                            @{
                                foreach (var placeType in Enum.GetValues<PlaceType>())
                                {
                                    <MudSelectItem Value="@placeType"></MudSelectItem>
                                }
                            }
                        </AdvSelect>
                    </MudItem>
                    <MudItem xs="12">
                        <AdvTextField @bind-Value="_place.Name"
                                      Validation="@(_validator.PropertyValidation(x=> x.Name))"
                                      Label="장소명" />
                    </MudItem>
                    <MudItem xs="12">
                        <AdvTextField @bind-Value="_place.Address"
                                      Label="주소"
                                      Validation="@(_validator.PropertyValidation(x=> x.Address))" />
                    </MudItem>
                    <MudItem xs="12">
                        <AdvTextField @bind-Value="_place.ContactNumber"
                                      Validation="@(_validator.PropertyValidation(x=> x.ContactNumber))"
                                      Label="연락처" />
                    </MudItem>
                    <MudItem xs="12">
                        <AdvSelect @bind-SelectedValues="_place.Categories"
                                   T="PlaceCategory"
                                   MultiSelection="true"
                                   Label="카테고리"
                                   Validation="@(_validator.PropertyValidation(x=> x.Categories))">
                            @foreach (var category in Enum.GetValues<PlaceCategory>())
                            {
                                <MudSelectItem Value="category"></MudSelectItem>
                            }
                        </AdvSelect>
                    </MudItem>
                    <MudItem xs="12">
                        @foreach (var openingTime in _place.OpeningTimes)
                        {
                            <Bridge.WebApp.Pages.Admin.Components.OpeningTimeListItem OpeningTime="openingTime" />
                        }
                    </MudItem>
                </MudGrid>
            </MudForm>
            <MudToolBar>

                <MudSpacer />
                <div>
                    <MudButton Variant="Variant.Filled"
                               Color="Color.Error"
                               OnClick="Cancel_Click">
                        취소
                    </MudButton>
                    <MudButton Variant="Variant.Filled"
                               Color="Color.Primary"
                               OnClick="Save_Click">
                        저장
                    </MudButton>
                </div>

            </MudToolBar>

        </MudPaper>

    </MudContainer>
</div>

